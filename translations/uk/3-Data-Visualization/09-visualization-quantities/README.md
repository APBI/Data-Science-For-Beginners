<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "43c402d9d90ae6da55d004519ada5033",
  "translation_date": "2025-08-30T19:02:12+00:00",
  "source_file": "3-Data-Visualization/09-visualization-quantities/README.md",
  "language_code": "uk"
}
-->
# Візуалізація кількостей

|![ Скетчноут від [(@sketchthedocs)](https://sketchthedocs.dev) ](../../sketchnotes/09-Visualizing-Quantities.png)|
|:---:|
| Візуалізація кількостей - _Скетчноут від [@nitya](https://twitter.com/nitya)_ |

У цьому уроці ви дослідите, як використовувати одну з багатьох доступних бібліотек Python, щоб навчитися створювати цікаві візуалізації, пов'язані з концепцією кількості. Використовуючи очищений набір даних про птахів Міннесоти, ви можете дізнатися багато цікавих фактів про місцеву дику природу.  
## [Тест перед лекцією](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/16)

## Спостереження за розмахом крил за допомогою Matplotlib

Чудова бібліотека для створення як простих, так і складних графіків і діаграм різних типів — це [Matplotlib](https://matplotlib.org/stable/index.html). Загалом, процес побудови графіків за допомогою цих бібліотек включає визначення частин вашого датафрейму, які ви хочете використати, виконання необхідних трансформацій даних, призначення значень для осей x і y, вибір типу графіка для відображення та його візуалізацію. Matplotlib пропонує великий вибір візуалізацій, але для цього уроку ми зосередимося на тих, які найбільше підходять для візуалізації кількості: лінійні графіки, точкові діаграми та стовпчикові діаграми.

> ✅ Використовуйте найкращий тип графіка, який відповідає структурі ваших даних і історії, яку ви хочете розповісти.  
> - Для аналізу тенденцій з часом: лінійний графік  
> - Для порівняння значень: стовпчикова, колонкова, кругова діаграма, точкова діаграма  
> - Для показу, як частини співвідносяться з цілим: кругова діаграма  
> - Для показу розподілу даних: точкова діаграма, стовпчикова діаграма  
> - Для показу тенденцій: лінійний графік, колонкова діаграма  
> - Для показу взаємозв’язків між значеннями: лінійний графік, точкова діаграма, бульбашкова діаграма  

Якщо у вас є набір даних і потрібно дізнатися, скільки певного елемента включено, одним із перших завдань буде перевірка його значень.  

✅ Дуже хороші "шпаргалки" для Matplotlib доступні [тут](https://matplotlib.org/cheatsheets/cheatsheets.pdf).

## Створення лінійного графіка для значень розмаху крил птахів

Відкрийте файл `notebook.ipynb` у кореневій папці цього уроку та додайте комірку.

> Примітка: дані зберігаються в корені цього репозиторію в папці `/data`.

```python
import pandas as pd
import matplotlib.pyplot as plt
birds = pd.read_csv('../../data/birds.csv')
birds.head()
```  
Ці дані є сумішшю тексту та чисел:

|      | Назва                        | Наукова назва          | Категорія             | Ряд          | Родина   | Рід         | Статус збереження | Мін. довжина | Макс. довжина | Мін. маса тіла | Макс. маса тіла | Мін. розмах крил | Макс. розмах крил |
| ---: | :--------------------------- | :--------------------- | :-------------------- | :----------- | :------- | :---------- | :----------------- | --------: | --------: | ----------: | ----------: | ----------: | ----------: |
|    0 | Чорно-білий свистячий качур  | Dendrocygna autumnalis | Качки/Гуси/Водоплавні | Anseriformes | Anatidae | Dendrocygna | LC                 |        47 |        56 |         652 |        1020 |          76 |          94 |
|    1 | Рудий свистячий качур        | Dendrocygna bicolor    | Качки/Гуси/Водоплавні | Anseriformes | Anatidae | Dendrocygna | LC                 |        45 |        53 |         712 |        1050 |          85 |          93 |
|    2 | Біла гуска                   | Anser caerulescens     | Качки/Гуси/Водоплавні | Anseriformes | Anatidae | Anser       | LC                 |        64 |        79 |        2050 |        4050 |         135 |         165 |
|    3 | Гуска Росса                  | Anser rossii           | Качки/Гуси/Водоплавні | Anseriformes | Anatidae | Anser       | LC                 |      57.3 |        64 |        1066 |        1567 |         113 |         116 |
|    4 | Велика білолоба гуска        | Anser albifrons        | Качки/Гуси/Водоплавні | Anseriformes | Anatidae | Anser       | LC                 |        64 |        81 |        1930 |        3310 |         130 |         165 |

Давайте почнемо з побудови графіка деяких числових даних за допомогою базового лінійного графіка. Припустимо, ви хочете побачити максимальний розмах крил цих цікавих птахів.

```python
wingspan = birds['MaxWingspan'] 
wingspan.plot()
```  
![Макс. розмах крил](../../../../translated_images/max-wingspan-02.e79fd847b2640b89e21e340a3a9f4c5d4b224c4fcd65f54385e84f1c9ed26d52.uk.png)

Що ви помічаєте одразу? Здається, є принаймні один аномальний показник — це досить великий розмах крил! Розмах крил у 2300 сантиметрів дорівнює 23 метрам — чи є в Міннесоті птеродактилі? Давайте дослідимо.

Хоча ви могли б швидко відсортувати дані в Excel, щоб знайти ці аномалії, які, ймовірно, є помилками, продовжуйте процес візуалізації, працюючи з графіком.

Додайте мітки до осі x, щоб показати, про які птахів йдеться:

```
plt.title('Max Wingspan in Centimeters')
plt.ylabel('Wingspan (CM)')
plt.xlabel('Birds')
plt.xticks(rotation=45)
x = birds['Name'] 
y = birds['MaxWingspan']

plt.plot(x, y)

plt.show()
```  
![розмах крил з мітками](../../../../translated_images/max-wingspan-labels-02.aa90e826ca49a9d1dde78075e9755c1849ef56a4e9ec60f7e9f3806daf9283e2.uk.png)

Навіть із поворотом міток на 45 градусів їх занадто багато, щоб прочитати. Давайте спробуємо іншу стратегію: позначимо лише аномалії та встановимо мітки всередині графіка. Ви можете використовувати точкову діаграму, щоб створити більше місця для міток:

```python
plt.title('Max Wingspan in Centimeters')
plt.ylabel('Wingspan (CM)')
plt.tick_params(axis='both',which='both',labelbottom=False,bottom=False)

for i in range(len(birds)):
    x = birds['Name'][i]
    y = birds['MaxWingspan'][i]
    plt.plot(x, y, 'bo')
    if birds['MaxWingspan'][i] > 500:
        plt.text(x, y * (1 - 0.05), birds['Name'][i], fontsize=12)
    
plt.show()
```  
Що тут відбувається? Ви використали `tick_params`, щоб приховати нижні мітки, а потім створили цикл над вашим набором даних про птахів. Побудувавши графік із маленькими круглими синіми точками за допомогою `bo`, ви перевірили, чи є у птаха максимальний розмах крил понад 500, і якщо так, то відобразили його назву поруч із точкою. Ви трохи змістили мітки по осі y (`y * (1 - 0.05)`) і використали назву птаха як мітку.

Що ви виявили?

![аномалії](../../../../translated_images/labeled-wingspan-02.6110e2d2401cd5238ccc24dfb6d04a6c19436101f6cec151e3992e719f9f1e1f.uk.png)  
## Фільтрування даних

І Білоголовий орлан, і Луговий сокіл, хоча, ймовірно, дуже великі птахи, здається, мають помилкові дані, з додатковим `0` у їхньому максимальному розмаху крил. Малоймовірно, що ви зустрінете Білоголового орлана з розмахом крил у 25 метрів, але якщо так, будь ласка, повідомте нам! Давайте створимо новий датафрейм без цих двох аномалій:

```python
plt.title('Max Wingspan in Centimeters')
plt.ylabel('Wingspan (CM)')
plt.xlabel('Birds')
plt.tick_params(axis='both',which='both',labelbottom=False,bottom=False)
for i in range(len(birds)):
    x = birds['Name'][i]
    y = birds['MaxWingspan'][i]
    if birds['Name'][i] not in ['Bald eagle', 'Prairie falcon']:
        plt.plot(x, y, 'bo')
plt.show()
```  

Фільтруючи аномалії, ваші дані тепер більш узгоджені та зрозумілі.

![точкова діаграма розмахів крил](../../../../translated_images/scatterplot-wingspan-02.1c33790094ce36a75f5fb45b25ed2cf27f0356ea609e43c11e97a2cedd7011a4.uk.png)

Тепер, коли у нас є очищений набір даних, принаймні щодо розмаху крил, давайте дізнаємося більше про цих птахів.

Хоча лінійні та точкові графіки можуть відображати інформацію про значення даних та їх розподіл, ми хочемо подумати про значення, притаманні цьому набору даних. Ви могли б створити візуалізації, щоб відповісти на такі питання про кількість:

> Скільки категорій птахів існує і яка їх кількість?  
> Скільки птахів є вимерлими, зникаючими, рідкісними чи поширеними?  
> Скільки є різних родів і рядів у термінології Ліннея?  
## Дослідження стовпчикових діаграм

Стовпчикові діаграми практичні, коли потрібно показати групування даних. Давайте дослідимо категорії птахів, які є в цьому наборі даних, щоб побачити, яка з них є найпоширенішою за кількістю.

У файлі ноутбука створіть базову стовпчикову діаграму.

✅ Зверніть увагу, що ви можете або відфільтрувати двох аномальних птахів, яких ми визначили в попередньому розділі, виправити помилку в їхньому розмаху крил, або залишити їх для цих вправ, які не залежать від значень розмаху крил.

Якщо ви хочете створити стовпчикову діаграму, ви можете вибрати дані, на яких хочете зосередитися. Стовпчикові діаграми можна створювати з необроблених даних:

```python
birds.plot(x='Category',
        kind='bar',
        stacked=True,
        title='Birds of Minnesota')

```  
![всі дані як стовпчикова діаграма](../../../../translated_images/full-data-bar-02.aaa3fda71c63ed564b917841a1886c177dd9a26424142e510c0c0498fd6ca160.uk.png)

Однак ця стовпчикова діаграма є нечіткою, оскільки дані не згруповані. Вам потрібно вибрати лише ті дані, які ви хочете відобразити, тому давайте подивимося на довжину птахів залежно від їхньої категорії.

Відфільтруйте ваші дані, щоб включити лише категорію птахів.

✅ Зверніть увагу, що ви використовуєте Pandas для управління даними, а потім дозволяєте Matplotlib створювати графік.

Оскільки є багато категорій, ви можете відобразити цей графік вертикально та налаштувати його висоту, щоб врахувати всі дані:

```python
category_count = birds.value_counts(birds['Category'].values, sort=True)
plt.rcParams['figure.figsize'] = [6, 12]
category_count.plot.barh()
```  
![категорія та довжина](../../../../translated_images/category-counts-02.0b9a0a4de42275ae5096d0f8da590d8bf520d9e7e40aad5cc4fc8d276480cc32.uk.png)

Ця стовпчикова діаграма показує хороший огляд кількості птахів у кожній категорії. Одним поглядом ви бачите, що найбільша кількість птахів у цьому регіоні належить до категорії Качки/Гуси/Водоплавні. Міннесота — це "країна 10 000 озер", тому це не дивно!

✅ Спробуйте зробити інші підрахунки на цьому наборі даних. Чи щось вас здивувало?

## Порівняння даних

Ви можете спробувати різні порівняння згрупованих даних, створюючи нові осі. Спробуйте порівняти MaxLength птаха залежно від його категорії:

```python
maxlength = birds['MaxLength']
plt.barh(y=birds['Category'], width=maxlength)
plt.rcParams['figure.figsize'] = [6, 12]
plt.show()
```  
![порівняння даних](../../../../translated_images/category-length-02.7304bf519375c9807d8165cc7ec60dd2a60f7b365b23098538e287d89adb7d76.uk.png)

Тут нічого дивного: колібрі мають найменший MaxLength у порівнянні з пеліканами чи гусьми. Добре, коли дані мають логічний сенс!

Ви можете створювати більш цікаві візуалізації стовпчикових діаграм, накладаючи дані. Давайте накладемо Мінімальну та Максимальну довжину на певну категорію птахів:

```python
minLength = birds['MinLength']
maxLength = birds['MaxLength']
category = birds['Category']

plt.barh(category, maxLength)
plt.barh(category, minLength)

plt.show()
```  
На цьому графіку ви можете побачити діапазон для кожної категорії птахів щодо Мінімальної та Максимальної довжини. Можна сміливо сказати, що, враховуючи ці дані, чим більший птах, тим більший його діапазон довжини. Захопливо!

![накладені значення](../../../../translated_images/superimposed-02.f03058536baeb2ed7864f01102538464d4c2fd7ade881ddd7d5ba74dc5d2fdae.uk.png)

## 🚀 Виклик

Цей набір даних про птахів пропонує багатство інформації про різні типи птахів у певній екосистемі. Пошукайте в інтернеті інші набори даних, пов’язані з птахами. Практикуйте створення графіків і діаграм навколо цих птахів, щоб дізнатися факти, про які ви не здогадувалися.  
## [Тест після лекції](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/17)

## Огляд і самостійне навчання

Цей перший урок дав вам інформацію про те, як використовувати Matplotlib для візуалізації кількостей. Проведіть дослідження інших способів роботи з наборами даних для візуалізації. [Plotly](https://github.com/plotly/plotly.py) — це бібліотека, яку ми не будемо розглядати в цих уроках, тому ознайомтеся з її можливостями.  
## Завдання

[Лінії, Точки та Стовпчики](assignment.md)

---

**Відмова від відповідальності**:  
Цей документ був перекладений за допомогою сервісу автоматичного перекладу [Co-op Translator](https://github.com/Azure/co-op-translator). Хоча ми прагнемо до точності, будь ласка, майте на увазі, що автоматичні переклади можуть містити помилки або неточності. Оригінальний документ на його рідній мові слід вважати авторитетним джерелом. Для критичної інформації рекомендується професійний людський переклад. Ми не несемо відповідальності за будь-які непорозуміння або неправильні тлумачення, що виникли внаслідок використання цього перекладу.