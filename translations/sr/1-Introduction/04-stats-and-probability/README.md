<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b706a07cfa87ba091cbb91e0aa775600",
  "translation_date": "2025-08-30T19:18:18+00:00",
  "source_file": "1-Introduction/04-stats-and-probability/README.md",
  "language_code": "sr"
}
-->
# Кратак увод у статистику и вероватноћу

|![ Скетч од [(@sketchthedocs)](https://sketchthedocs.dev) ](../../sketchnotes/04-Statistics-Probability.png)|
|:---:|
| Статистика и вероватноћа - _Скетч од [@nitya](https://twitter.com/nitya)_ |

Теорија статистике и вероватноће су две веома повезане области математике које су изузетно релевантне за науку о подацима. Могуће је радити са подацима без дубоког познавања математике, али је ипак боље знати бар неке основне концепте. Овде ћемо представити кратак увод који ће вам помоћи да започнете.

[![Уводни видео](../../../../translated_images/video-prob-and-stats.e4282e5efa2f2543400843ed98b1057065c9600cebfc8a728e8931b5702b2ae4.sr.png)](https://youtu.be/Z5Zy85g4Yjw)

## [Квиз пре предавања](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/6)

## Вероватноћа и случајне променљиве

**Вероватноћа** је број између 0 и 1 који изражава колико је неки **догађај** вероватан. Дефинише се као број позитивних исхода (који воде до догађаја), подељен укупним бројем исхода, под условом да су сви исходи једнако вероватни. На пример, када бацимо коцку, вероватноћа да добијемо паран број је 3/6 = 0.5.

Када говоримо о догађајима, користимо **случајне променљиве**. На пример, случајна променљива која представља број добијен бацањем коцке би узимала вредности од 1 до 6. Скуп бројева од 1 до 6 назива се **простор узорака**. Можемо говорити о вероватноћи да случајна променљива узме одређену вредност, на пример P(X=3)=1/6.

Случајна променљива у претходном примеру назива се **дискретна**, јер има пребројив простор узорака, односно постоје одвојене вредности које се могу набројати. Постоје случајеви када је простор узорака опсег реалних бројева или цео скуп реалних бројева. Такве променљиве називају се **континуалне**. Добар пример је време доласка аутобуса.

## Расподела вероватноће

У случају дискретних случајних променљивих, лако је описати вероватноћу сваког догађаја функцијом P(X). За сваку вредност *s* из простора узорака *S* она ће дати број између 0 и 1, тако да збир свих вредности P(X=s) за све догађаје буде 1.

Најпознатија дискретна расподела је **равномерна расподела**, у којој постоји простор узорака од N елемената, са једнаком вероватноћом од 1/N за сваки од њих.

Теже је описати расподелу вероватноће континуалне променљиве, са вредностима из неког интервала [a,b], или целог скупа реалних бројева ℝ. Размотрите случај времена доласка аутобуса. У ствари, за свако тачно време доласка *t*, вероватноћа да аутобус стигне тачно у то време је 0!

> Сада знате да се догађаји са вероватноћом 0 дешавају, и то веома често! Барем сваки пут када аутобус стигне!

Можемо говорити само о вероватноћи да променљива падне у дати интервал вредности, нпр. P(t<sub>1</sub>≤X<t<sub>2</sub>). У овом случају, расподела вероватноће се описује **функцијом густине вероватноће** p(x), тако да

![P(t_1\le X<t_2)=\int_{t_1}^{t_2}p(x)dx](../../../../translated_images/probability-density.a8aad29f17a14afb519b407c7b6edeb9f3f9aa5f69c9e6d9445f604e5f8a2bf7.sr.png)

Континуални аналог равномерне расподеле назива се **континуална равномерна**, која је дефинисана на коначном интервалу. Вероватноћа да вредност X падне у интервал дужине l је пропорционална l, и расте до 1.

Још једна важна расподела је **нормална расподела**, о којој ћемо детаљније говорити у наставку.

## Средња вредност, варијанса и стандардна девијација

Претпоставимо да узимамо низ од n узорака случајне променљиве X: x<sub>1</sub>, x<sub>2</sub>, ..., x<sub>n</sub>. Можемо дефинисати **средњу вредност** (или **аритметичку средину**) низа на традиционалан начин као (x<sub>1</sub>+x<sub>2</sub>+x<sub>n</sub>)/n. Како повећавамо величину узорка (тј. узимамо границу са n→∞), добијамо средњу вредност (која се назива и **очекивање**) расподеле. Очекивање ћемо означити са **E**(x).

> Може се показати да за било коју дискретну расподелу са вредностима {x<sub>1</sub>, x<sub>2</sub>, ..., x<sub>N</sub>} и одговарајућим вероватноћама p<sub>1</sub>, p<sub>2</sub>, ..., p<sub>N</sub>, очекивање ће бити E(X)=x<sub>1</sub>p<sub>1</sub>+x<sub>2</sub>p<sub>2</sub>+...+x<sub>N</sub>p<sub>N</sub>.

Да бисмо идентификовали колико су вредности распршене, можемо израчунати варијансу σ<sup>2</sup> = ∑(x<sub>i</sub> - μ)<sup>2</sup>/n, где је μ средња вредност низа. Вредност σ назива се **стандардна девијација**, а σ<sup>2</sup> назива се **варијанса**.

## Мода, медијана и квартили

Понекад средња вредност не представља адекватно "типичну" вредност за податке. На пример, када постоји неколико екстремних вредности које су потпуно ван опсега, оне могу утицати на средњу вредност. Још један добар показатељ је **медијана**, вредност таква да је половина података мања од ње, а друга половина - већа.

Да бисмо боље разумели расподелу података, корисно је говорити о **квартилима**:

* Први квартил, или Q1, је вредност таква да 25% података пада испод ње
* Трећи квартил, или Q3, је вредност таква да 75% података пада испод ње

Графички можемо представити однос између медијане и квартила у дијаграму који се назива **бокс плот**:

<img src="images/boxplot_explanation.png" width="50%"/>

Овде такође израчунавамо **интерквартилни опсег** IQR=Q3-Q1, и такозване **изузетке** - вредности које леже ван граница [Q1-1.5*IQR,Q3+1.5*IQR].

За коначну расподелу која садржи мали број могућих вредности, добра "типична" вредност је она која се најчешће појављује, што се назива **мода**. Често се примењује на категоријске податке, као што су боје. Размотрите ситуацију када имамо две групе људи - једни који снажно преферирају црвену боју, а други плаву. Ако боје кодирамо бројевима, средња вредност за омиљену боју би била негде у спектру наранџасто-зелено, што не указује на стварну преференцију ниједне групе. Међутим, мода би била или једна од боја, или обе боје, ако је број људи који гласају за њих једнак (у том случају узорак називамо **мултимодалан**).

## Подаци из стварног света

Када анализирамо податке из стварног живота, они често нису случајне променљиве у правом смислу, у смислу да не изводимо експерименте са непознатим резултатом. На пример, размотрите тим бејзбол играча и њихове телесне податке, као што су висина, тежина и старост. Ти бројеви нису баш случајни, али можемо применити исте математичке концепте. На пример, низ тежина људи може се сматрати низом вредности извучених из неке случајне променљиве. Испод је низ тежина стварних бејзбол играча из [Мејџор лиге бејзбола](http://mlb.mlb.com/index.jsp), узет из [овог скупа података](http://wiki.stat.ucla.edu/socr/index.php/SOCR_Data_MLB_HeightsWeights) (ради ваше удобности, приказане су само прве 20 вредности):

```
[180.0, 215.0, 210.0, 210.0, 188.0, 176.0, 209.0, 200.0, 231.0, 180.0, 188.0, 180.0, 185.0, 160.0, 180.0, 185.0, 197.0, 189.0, 185.0, 219.0]
```

> **Напомена**: Да бисте видели пример рада са овим скупом података, погледајте [пратећу свеску](notebook.ipynb). Такође постоји низ изазова кроз ову лекцију, и можете их завршити додавањем неког кода у ту свеску. Ако нисте сигурни како да радите са подацима, не брините - вратићемо се раду са подацима користећи Python касније. Ако не знате како да покренете код у Jupyter Notebook-у, погледајте [овај чланак](https://soshnikov.com/education/how-to-execute-notebooks-from-github/).

Ево бокс плота који приказује средњу вредност, медијану и квартиле за наше податке:

![Бокс плот тежине](../../../../translated_images/weight-boxplot.1dbab1c03af26f8a008fff4e17680082c8ab147d6df646cbac440bbf8f5b9c42.sr.png)

Пошто наши подаци садрже информације о различитим **улогама** играча, можемо направити бокс плот по улогама - то ће нам омогућити да добијемо идеју о томе како се вредности параметара разликују у зависности од улога. Овог пута ћемо размотрити висину:

![Бокс плот по улогама](../../../../translated_images/boxplot_byrole.036b27a1c3f52d42f66fba2324ec5cde0a1bca6a01a619eeb0ce7cd054b2527b.sr.png)

Овај дијаграм сугерише да је, у просеку, висина играча на првој бази већа од висине играча на другој бази. Касније у овој лекцији научићемо како можемо формалније тестирати ову хипотезу и како да покажемо да су наши подаци статистички значајни за то.

> Када радимо са подацима из стварног света, претпостављамо да су сви подаци узорци извучени из неке расподеле вероватноће. Ова претпоставка нам омогућава да применимо технике машинског учења и изградимо функционалне предиктивне моделе.

Да бисмо видели каква је расподела наших података, можемо нацртати график који се назива **хистограм**. Оса X би садржала број различитих интервала тежине (такозваних **бинова**), а вертикална оса би показивала број пута када је узорак наше случајне променљиве био у датом интервалу.

![Хистограм података из стварног света](../../../../translated_images/weight-histogram.bfd00caf7fc30b145b21e862dba7def41c75635d5280de25d840dd7f0b00545e.sr.png)

Из овог хистограма можете видети да су све вредности концентрисане око одређене средње тежине, и што се више удаљавамо од те тежине - мање тежина те вредности се сусреће. Односно, веома је мало вероватно да ће тежина бејзбол играча бити веома различита од средње тежине. Варијанса тежина показује степен до којег тежине могу да се разликују од средње вредности.

> Ако узмемо тежине других људи, који нису из бејзбол лиге, расподела ће вероватно бити другачија. Међутим, облик расподеле ће бити исти, али средња вредност и варијанса ће се променити. Дакле, ако обучимо наш модел на бејзбол играчима, вероватно ће давати погрешне резултате када се примени на студенте универзитета, јер је основна расподела другачија.

## Нормална расподела

Расподела тежина коју смо видели изнад је веома типична, и многе мере из стварног света следе исти тип расподеле, али са различитом средњом вредношћу и варијансом. Ова расподела се назива **нормална расподела**, и она игра веома важну улогу у статистици.

Коришћење нормалне расподеле је исправан начин за генерисање случајних тежина потенцијалних бејзбол играча. Када знамо средњу тежину `mean` и стандардну девијацију `std`, можемо генерисати 1000 узорака тежине на следећи начин:
```python
samples = np.random.normal(mean,std,1000)
``` 

Ако нацртамо хистограм генерисаних узорака, видећемо слику веома сличну оној приказаној изнад. А ако повећамо број узорака и број бинова, можемо генерисати слику нормалне расподеле која је ближа идеалу:

![Нормална расподела са mean=0 и std.dev=1](../../../../translated_images/normal-histogram.dfae0d67c202137d552d0015fb87581eca263925e512404f3c12d8885315432e.sr.png)

*Нормална расподела са mean=0 и std.dev=1*

## Интервали поверења

Када говоримо о тежинама бејзбол играча, претпостављамо да постоји одређена **случајна променљива W** која одговара идеалној расподели вероватноће тежина свих бејзбол играча (такозвана **популација**). Наш низ тежина одговара подскупу свих бејзбол играча који називамо **узорак**. Занимљиво питање је, можемо ли знати параметре расподеле W, односно средњу вредност и варијансу популације?

Најлакши одговор би био да израчунамо средњу вредност и варијансу нашег узорка. Међутим, могло би се десити да наш случајни узорак не представља тачно целу популацију. Због тога има смисла говорити о **интервалу поверења**.
> **Интервал поверења** је процена стварног просека популације на основу нашег узорка, која је тачна са одређеном вероватноћом (или **нивоом поверења**).
Претпоставимо да имамо узорак X<sub>1</sub>, ..., X<sub>n</sub> из наше дистрибуције. Сваки пут када извучемо узорак из дистрибуције, добијамо различиту вредност средине μ. Стога се μ може сматрати случајном променљивом. **Интервал поверења** са поверењем p је пар вредности (L<sub>p</sub>,R<sub>p</sub>), такав да је **P**(L<sub>p</sub>≤μ≤R<sub>p</sub>) = p, односно вероватноћа да измерена средња вредност падне у интервал једнака је p.

Детаљна дискусија о томе како се израчунавају ти интервали поверења превазилази оквир нашег кратког увода. Више детаља можете пронаћи [на Википедији](https://en.wikipedia.org/wiki/Confidence_interval). Укратко, дефинишемо дистрибуцију израчунате средње вредности узорка у односу на праву средину популације, што се назива **Стјудентова дистрибуција**.

> **Занимљива чињеница**: Стјудентова дистрибуција је добила име по математичару Вилијаму Силију Госету, који је свој рад објавио под псеудонимом "Студент". Радио је у пивари Гинис, а према једној од верзија, његов послодавац није желео да јавност зна да користе статистичке тестове за одређивање квалитета сировина.

Ако желимо да проценимо средину μ наше популације са поверењем p, потребно је да узмемо *(1-p)/2-ти перцентил* Стјудентове дистрибуције A, који се може узети из табела или израчунати помоћу уграђених функција статистичког софтвера (нпр. Python, R итд.). Тада ће интервал за μ бити дат са X±A*D/√n, где је X добијена средња вредност узорка, а D стандардна девијација.

> **Напомена**: Такође изостављамо дискусију о важном концепту [степени слободе](https://en.wikipedia.org/wiki/Degrees_of_freedom_(statistics)), који је важан у вези са Стјудентовом дистрибуцијом. Можете се обратити комплетнијим књигама о статистици да бисте дубље разумели овај концепт.

Пример израчунавања интервала поверења за тежине и висине дат је у [пратећим бележницама](notebook.ipynb).

| p | Средња тежина |
|-----|-----------|
| 0.85 | 201.73±0.94 |
| 0.90 | 201.73±1.08 |
| 0.95 | 201.73±1.28 |

Приметите да што је већа вероватноћа поверења, то је шири интервал поверења.

## Тестирање хипотеза

У нашем скупу података о бејзбол играчима постоје различите улоге играча, које се могу сумирати у следећој табели (погледајте [пратећу бележницу](notebook.ipynb) да видите како је ова табела израчуната):

| Улога | Висина | Тежина | Број |
|------|--------|--------|-------|
| Хватач | 72.723684 | 204.328947 | 76 |
| Дизајнирани ударач | 74.222222 | 220.888889 | 18 |
| Први базни играч | 74.000000 | 213.109091 | 55 |
| Вањски играч | 73.010309 | 199.113402 | 194 |
| Резервни бацач | 74.374603 | 203.517460 | 315 |
| Други базни играч | 71.362069 | 184.344828 | 58 |
| Кратка станица | 71.903846 | 182.923077 | 52 |
| Почетни бацач | 74.719457 | 205.163636 | 221 |
| Трећи базни играч | 73.044444 | 200.955556 | 45 |

Можемо приметити да је просечна висина првих базних играча већа од висине других базних играча. Стога бисмо могли закључити да су **први базни играчи виши од других базних играча**.

> Ова изјава се назива **хипотеза**, јер не знамо да ли је чињеница заиста тачна или не.

Међутим, није увек очигледно да ли можемо донети овај закључак. Из претходне дискусије знамо да свака средња вредност има повезан интервал поверења, па ова разлика може бити само статистичка грешка. Потребан нам је формалнији начин за тестирање хипотезе.

Израчунајмо интервале поверења посебно за висине првих и других базних играча:

| Поверење | Први базни играчи | Други базни играчи |
|------------|---------------|----------------|
| 0.85 | 73.62..74.38 | 71.04..71.69 |
| 0.90 | 73.56..74.44 | 70.99..71.73 |
| 0.95 | 73.47..74.53 | 70.92..71.81 |

Видимо да се ни под једним нивоом поверења интервали не преклапају. То доказује нашу хипотезу да су први базни играчи виши од других базних играча.

Формалније, проблем који решавамо је да видимо да ли су **две дистрибуције вероватноће исте**, или барем имају исте параметре. У зависности од дистрибуције, потребно је користити различите тестове. Ако знамо да су наше дистрибуције нормалне, можемо применити **[Стјудентов t-тест](https://en.wikipedia.org/wiki/Student%27s_t-test)**.

У Стјудентовом t-тесту израчунавамо такозвану **t-вредност**, која указује на разлику између средњих вредности, узимајући у обзир варијансу. Показано је да t-вредност прати **Стјудентову дистрибуцију**, што нам омогућава да добијемо граничну вредност за дати ниво поверења **p** (ово се може израчунати или пронаћи у нумеричким табелама). Затим упоређујемо t-вредност са овом граничном вредношћу како бисмо прихватили или одбацили хипотезу.

У Python-у можемо користити пакет **SciPy**, који укључује функцију `ttest_ind` (поред многих других корисних статистичких функција!). Она израчунава t-вредност за нас и такође ради обрнуто претраживање p-вредности поверења, тако да можемо само погледати поверење да бисмо донели закључак.

На пример, наше поређење висина првих и других базних играча даје следеће резултате: 
```python
from scipy.stats import ttest_ind

tval, pval = ttest_ind(df.loc[df['Role']=='First_Baseman',['Height']], df.loc[df['Role']=='Designated_Hitter',['Height']],equal_var=False)
print(f"T-value = {tval[0]:.2f}\nP-value: {pval[0]}")
```
```
T-value = 7.65
P-value: 9.137321189738925e-12
```
У нашем случају, p-вредност је веома ниска, што значи да постоје јаки докази који подржавају да су први базни играчи виши.

Постоје и друге врсте хипотеза које бисмо могли тестирати, на пример:
* Да докажемо да дати узорак прати неку дистрибуцију. У нашем случају претпоставили смо да су висине нормално распоређене, али то захтева формалну статистичку верификацију.
* Да докажемо да средња вредност узорка одговара некој унапред дефинисаној вредности.
* Да упоредимо средње вредности више узорака (нпр. која је разлика у нивоу среће међу различитим старосним групама).

## Закон великих бројева и централна гранична теорема

Један од разлога зашто је нормална дистрибуција толико важна је такозвана **централна гранична теорема**. Претпоставимо да имамо велики узорак независних N вредности X<sub>1</sub>, ..., X<sub>N</sub>, узоркованих из било које дистрибуције са средином μ и варијансом σ<sup>2</sup>. Тада, за довољно велико N (другим речима, када N→∞), средња вредност Σ<sub>i</sub>X<sub>i</sub> биће нормално распоређена, са средином μ и варијансом σ<sup>2</sup>/N.

> Други начин да се интерпретира централна гранична теорема је да се каже да без обзира на дистрибуцију, када израчунате средину збира било којих вредности случајних променљивих, добијате нормалну дистрибуцију.

Из централне граничне теореме такође следи да, када N→∞, вероватноћа да средња вредност узорка буде једнака μ постаје 1. Ово је познато као **закон великих бројева**.

## Коваријанса и корелација

Једна од ствари којима се наука о подацима бави је проналажење односа између података. Кажемо да се две секвенце **корелирају** када показују слично понашање у исто време, односно или расту/опадају истовремено, или једна секвенца расте када друга опада и обрнуто. Другим речима, чини се да постоји нека веза између две секвенце.

> Корелација не мора нужно указивати на узрочно-последичну везу између две секвенце; понекад обе променљиве могу зависити од неког спољашњег узрока, или може бити чиста случајност да се две секвенце корелирају. Међутим, јака математичка корелација је добар показатељ да су две променљиве некако повезане.

Математички, главни концепт који показује однос између две случајне променљиве је **коваријанса**, која се израчунава овако: Cov(X,Y) = **E**\[(X-**E**(X))(Y-**E**(Y))\]. Израчунавамо одступање обе променљиве од њихових средњих вредности, а затим производ тих одступања. Ако обе променљиве одступају заједно, производ ће увек бити позитивна вредност, што ће довести до позитивне коваријансе. Ако обе променљиве одступају неусклађено (тј. једна пада испод просека када друга расте изнад просека), увек ћемо добити негативне бројеве, што ће довести до негативне коваријансе. Ако одступања нису зависна, сабраће се на приближно нулу.

Апсолутна вредност коваријансе нам не говори много о томе колика је корелација, јер зависи од величине стварних вредности. Да бисмо је нормализовали, можемо поделити коваријансу са стандардном девијацијом обе променљиве, како бисмо добили **корелацију**. Добра ствар је што је корелација увек у опсегу [-1,1], где 1 означава јаку позитивну корелацију између вредности, -1 - јаку негативну корелацију, а 0 - одсуство корелације (променљиве су независне).

**Пример**: Можемо израчунати корелацију између тежина и висина бејзбол играча из горе поменутог скупа података:
```python
print(np.corrcoef(weights,heights))
```
Као резултат добијамо **матрицу корелације** попут ове:
```
array([[1.        , 0.52959196],
       [0.52959196, 1.        ]])
```

> Матрица корелације C може се израчунати за било који број улазних секвенци S<sub>1</sub>, ..., S<sub>n</sub>. Вредност C<sub>ij</sub> је корелација између S<sub>i</sub> и S<sub>j</sub>, а дијагонални елементи су увек 1 (што је такође самокорелација S<sub>i</sub>).

У нашем случају, вредност 0.53 указује да постоји одређена корелација између тежине и висине особе. Такође можемо направити графикон расејања једне вредности у односу на другу како бисмо визуелно видели однос:

![Однос између тежине и висине](../../../../translated_images/weight-height-relationship.3f06bde4ca2aba9974182c4ef037ed602acd0fbbbbe2ca91cefd838a9e66bcf9.sr.png)

> Више примера корелације и коваријансе можете пронаћи у [пратећој бележници](notebook.ipynb).

## Закључак

У овом одељку смо научили:

* основна статистичка својства података, као што су средина, варијанса, мода и квартиле
* различите дистрибуције случајних променљивих, укључујући нормалну дистрибуцију
* како пронаћи корелацију између различитих својстава
* како користити математички и статистички апарат за доказивање хипотеза
* како израчунати интервале поверења за случајну променљиву на основу узорка података

Иако ово дефинитивно није исцрпна листа тема које постоје у оквиру вероватноће и статистике, требало би да буде довољно за добар почетак овог курса.

## 🚀 Изазов

Користите пример кода у бележници да тестирате друге хипотезе:
1. Први базни играчи су старији од других базних играча
2. Први базни играчи су виши од трећих базних играча
3. Кратке станице су више од других базних играча

## [Квиз након предавања](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/7)

## Преглед и самостално учење

Вероватноћа и статистика су толико широка тема да заслужују свој курс. Ако сте заинтересовани да дубље уђете у теорију, можда ћете желети да наставите читање неких од следећих књига:

1. [Карлос Фернандез-Гранда](https://cims.nyu.edu/~cfgranda/) са Универзитета у Њујорку има одличне белешке са предавања [Probability and Statistics for Data Science](https://cims.nyu.edu/~cfgranda/pages/stuff/probability_stats_for_DS.pdf) (доступно онлајн)
1. [Питер и Ендру Брус. Practical Statistics for Data Scientists.](https://www.oreilly.com/library/view/practical-statistics-for/9781491952955/) [[пример кода у R-у](https://github.com/andrewgbruce/statistics-for-data-scientists)]. 
1. [Џејмс Д. Милер. Statistics for Data Science](https://www.packtpub.com/product/statistics-for-data-science/9781788290678) [[пример кода у R-у](https://github.com/PacktPublishing/Statistics-for-Data-Science)]

## Задатак

[Мала студија о дијабетесу](assignment.md)

## Захвалнице

Ова лекција је написана са ♥️ од стране [Дмитрија Сошњикова](http://soshnikov.com)

---

**Одрицање од одговорности**:  
Овај документ је преведен коришћењем услуге за превођење помоћу вештачке интелигенције [Co-op Translator](https://github.com/Azure/co-op-translator). Иако се трудимо да обезбедимо тачност, молимо вас да имате у виду да аутоматски преводи могу садржати грешке или нетачности. Оригинални документ на његовом изворном језику треба сматрати меродавним извором. За критичне информације препоручује се професионални превод од стране људи. Не преузимамо одговорност за било каква погрешна тумачења или неспоразуме који могу настати услед коришћења овог превода.