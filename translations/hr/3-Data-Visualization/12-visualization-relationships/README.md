<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "b29e427401499e81f4af55a8c4afea76",
  "translation_date": "2025-09-04T22:01:46+00:00",
  "source_file": "3-Data-Visualization/12-visualization-relationships/README.md",
  "language_code": "hr"
}
-->
# Vizualizacija odnosa: Sve o medu üçØ

|![ Sketchnote by [(@sketchthedocs)](https://sketchthedocs.dev) ](../../sketchnotes/12-Visualizing-Relationships.png)|
|:---:|
|Vizualizacija odnosa - _Sketchnote by [@nitya](https://twitter.com/nitya)_ |

Nastavljajuƒái s prirodnim fokusom na≈°eg istra≈æivanja, otkrijmo zanimljive vizualizacije koje prikazuju odnose izmeƒëu razliƒçitih vrsta meda, prema skupu podataka dobivenom od [Ministarstva poljoprivrede Sjedinjenih Ameriƒçkih Dr≈æava](https://www.nass.usda.gov/About_NASS/index.php).

Ovaj skup podataka sadr≈æi oko 600 stavki i prikazuje proizvodnju meda u mnogim ameriƒçkim saveznim dr≈æavama. Na primjer, mo≈æete pogledati broj kolonija, prinos po koloniji, ukupnu proizvodnju, zalihe, cijenu po funti i vrijednost proizvedenog meda u odreƒëenoj dr≈æavi od 1998. do 2012., s jednim redom po godini za svaku dr≈æavu.

Bilo bi zanimljivo vizualizirati odnos izmeƒëu proizvodnje odreƒëene dr≈æave po godini i, na primjer, cijene meda u toj dr≈æavi. Alternativno, mogli biste vizualizirati odnos izmeƒëu prinosa meda po koloniji u razliƒçitim dr≈æavama. Ovo vremensko razdoblje obuhvaƒáa razorni fenomen 'CCD' ili 'Sindrom kolapsa kolonija', prvi put zabilje≈æen 2006. godine (http://npic.orst.edu/envir/ccd.html), ≈°to ƒçini ovaj skup podataka posebno znaƒçajnim za prouƒçavanje. üêù

## [Kviz prije predavanja](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/22)

U ovoj lekciji mo≈æete koristiti Seaborn, biblioteku koju ste veƒá koristili, kao odliƒçan alat za vizualizaciju odnosa izmeƒëu varijabli. Posebno je zanimljiva funkcija `relplot` u Seabornu, koja omoguƒáuje brzu izradu scatter i linijskih grafova za vizualizaciju '[statistiƒçkih odnosa](https://seaborn.pydata.org/tutorial/relational.html?highlight=relationships)', ƒçime podatkovni znanstvenici mogu bolje razumjeti kako su varijable meƒëusobno povezane.

## Scatterploti

Koristite scatterplot za prikaz kako se cijena meda razvijala iz godine u godinu, po dr≈æavama. Seaborn, koristeƒái `relplot`, praktiƒçno grupira podatke po dr≈æavama i prikazuje toƒçke za kategorijske i numeriƒçke podatke.

Zapoƒçnimo uvozom podataka i biblioteke Seaborn:

```python
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
honey = pd.read_csv('../../data/honey.csv')
honey.head()
```
Primijetit ƒáete da podaci o medu sadr≈æe nekoliko zanimljivih stupaca, ukljuƒçujuƒái godinu i cijenu po funti. Istra≈æimo ove podatke grupirane po ameriƒçkim dr≈æavama:

| dr≈æava | brojkol | prinospokol | ukupnaprod | zalihe   | cijenapofunti | vrijednostprod | godina |
| ------ | ------- | ----------- | ---------- | -------- | ------------- | -------------- | ------ |
| AL     | 16000   | 71          | 1136000    | 159000   | 0.72          | 818000         | 1998   |
| AZ     | 55000   | 60          | 3300000    | 1485000  | 0.64          | 2112000        | 1998   |
| AR     | 53000   | 65          | 3445000    | 1688000  | 0.59          | 2033000        | 1998   |
| CA     | 450000  | 83          | 37350000   | 12326000 | 0.62          | 23157000       | 1998   |
| CO     | 27000   | 72          | 1944000    | 1594000  | 0.7           | 1361000        | 1998   |

Napravite osnovni scatterplot za prikaz odnosa izmeƒëu cijene po funti meda i dr≈æave podrijetla. Postavite `y` os dovoljno visoko da prika≈æe sve dr≈æave:

```python
sns.relplot(x="priceperlb", y="state", data=honey, height=15, aspect=.5);
```
![scatterplot 1](../../../../3-Data-Visualization/12-visualization-relationships/images/scatter1.png)

Sada prika≈æite iste podatke s paletom boja inspiriranom medom kako biste pokazali kako se cijena mijenja tijekom godina. To mo≈æete uƒçiniti dodavanjem parametra 'hue' za prikaz promjena iz godine u godinu:

> ‚úÖ Saznajte vi≈°e o [paletama boja koje mo≈æete koristiti u Seabornu](https://seaborn.pydata.org/tutorial/color_palettes.html) - isprobajte prekrasnu paletu boja poput duge!

```python
sns.relplot(x="priceperlb", y="state", hue="year", palette="YlOrBr", data=honey, height=15, aspect=.5);
```
![scatterplot 2](../../../../3-Data-Visualization/12-visualization-relationships/images/scatter2.png)

S ovom promjenom palete boja mo≈æete jasno vidjeti sna≈æan porast cijene po funti meda tijekom godina. Ako pogledate uzorak podataka za odreƒëenu dr≈æavu, na primjer Arizonu, mo≈æete primijetiti obrazac poveƒáanja cijena iz godine u godinu, uz nekoliko iznimaka:

| dr≈æava | brojkol | prinospokol | ukupnaprod | zalihe  | cijenapofunti | vrijednostprod | godina |
| ------ | ------- | ----------- | ---------- | ------- | ------------- | -------------- | ------ |
| AZ     | 55000   | 60          | 3300000    | 1485000 | 0.64          | 2112000        | 1998   |
| AZ     | 52000   | 62          | 3224000    | 1548000 | 0.62          | 1999000        | 1999   |
| AZ     | 40000   | 59          | 2360000    | 1322000 | 0.73          | 1723000        | 2000   |
| AZ     | 43000   | 59          | 2537000    | 1142000 | 0.72          | 1827000        | 2001   |
| AZ     | 38000   | 63          | 2394000    | 1197000 | 1.08          | 2586000        | 2002   |
| AZ     | 35000   | 72          | 2520000    | 983000  | 1.34          | 3377000        | 2003   |
| AZ     | 32000   | 55          | 1760000    | 774000  | 1.11          | 1954000        | 2004   |
| AZ     | 36000   | 50          | 1800000    | 720000  | 1.04          | 1872000        | 2005   |
| AZ     | 30000   | 65          | 1950000    | 839000  | 0.91          | 1775000        | 2006   |
| AZ     | 30000   | 64          | 1920000    | 902000  | 1.26          | 2419000        | 2007   |
| AZ     | 25000   | 64          | 1600000    | 336000  | 1.26          | 2016000        | 2008   |
| AZ     | 20000   | 52          | 1040000    | 562000  | 1.45          | 1508000        | 2009   |
| AZ     | 24000   | 77          | 1848000    | 665000  | 1.52          | 2809000        | 2010   |
| AZ     | 23000   | 53          | 1219000    | 427000  | 1.55          | 1889000        | 2011   |
| AZ     | 22000   | 46          | 1012000    | 253000  | 1.79          | 1811000        | 2012   |

Drugi naƒçin za vizualizaciju ovog napretka je kori≈°tenje veliƒçine umjesto boje. Za korisnike s pote≈°koƒáama u razlikovanju boja, ovo bi mogla biti bolja opcija. Uredite svoju vizualizaciju tako da poveƒáanje cijene prika≈æete poveƒáanjem opsega toƒçaka:

```python
sns.relplot(x="priceperlb", y="state", size="year", data=honey, height=15, aspect=.5);
```
Mo≈æete vidjeti kako se veliƒçina toƒçaka postupno poveƒáava.

![scatterplot 3](../../../../3-Data-Visualization/12-visualization-relationships/images/scatter3.png)

Je li ovo jednostavan sluƒçaj ponude i potra≈ænje? Zbog ƒçimbenika poput klimatskih promjena i kolapsa kolonija, je li dostupno manje meda za kupnju iz godine u godinu, pa cijena raste?

Kako biste otkrili korelaciju izmeƒëu nekih varijabli u ovom skupu podataka, istra≈æimo nekoliko linijskih grafova.

## Linijski grafovi

Pitanje: Postoji li jasan porast cijene meda po funti iz godine u godinu? To mo≈æete najlak≈°e otkriti izradom jednostavnog linijskog grafa:

```python
sns.relplot(x="year", y="priceperlb", kind="line", data=honey);
```
Odgovor: Da, uz nekoliko iznimaka oko 2003. godine:

![line chart 1](../../../../3-Data-Visualization/12-visualization-relationships/images/line1.png)

‚úÖ Buduƒái da Seaborn agregira podatke u jednu liniju, prikazuje "vi≈°e mjerenja za svaku vrijednost x tako ≈°to crta srednju vrijednost i 95% interval pouzdanosti oko srednje vrijednosti". [Izvor](https://seaborn.pydata.org/tutorial/relational.html). Ovo pona≈°anje koje zahtijeva vi≈°e vremena mo≈æe se onemoguƒáiti dodavanjem `ci=None`.

Pitanje: Pa, mo≈æemo li takoƒëer vidjeti porast u zalihama meda oko 2003. godine? ≈†to ako pogledate ukupnu proizvodnju iz godine u godinu?

```python
sns.relplot(x="year", y="totalprod", kind="line", data=honey);
```

![line chart 2](../../../../3-Data-Visualization/12-visualization-relationships/images/line2.png)

Odgovor: Ne ba≈°. Ako pogledate ukupnu proizvodnju, ƒçini se da je zapravo porasla te godine, iako opƒáenito koliƒçina proizvedenog meda opada tijekom tih godina.

Pitanje: U tom sluƒçaju, ≈°to je moglo uzrokovati taj skok u cijeni meda oko 2003. godine?

Kako biste to otkrili, mo≈æete istra≈æiti facet grid.

## Facet gridovi

Facet gridovi uzimaju jedan aspekt va≈°eg skupa podataka (u na≈°em sluƒçaju, mo≈æete odabrati 'godinu' kako biste izbjegli previ≈°e proizvedenih gridova). Seaborn tada mo≈æe napraviti graf za svaki od tih aspekata va≈°ih odabranih x i y koordinata za lak≈°u vizualnu usporedbu. Istiƒçe li se 2003. godina u ovoj vrsti usporedbe?

Napravite facet grid koristeƒái `relplot`, kako preporuƒçuje [Seabornova dokumentacija](https://seaborn.pydata.org/generated/seaborn.FacetGrid.html?highlight=facetgrid#seaborn.FacetGrid).

```python
sns.relplot(
    data=honey, 
    x="yieldpercol", y="numcol",
    col="year", 
    col_wrap=3,
    kind="line"
```
U ovoj vizualizaciji mo≈æete usporediti prinos po koloniji i broj kolonija iz godine u godinu, usporedno s postavkom wrap na 3 za stupce:

![facet grid](../../../../3-Data-Visualization/12-visualization-relationships/images/facet.png)

Za ovaj skup podataka, ni≈°ta posebno se ne istiƒçe u vezi s brojem kolonija i njihovim prinosom, iz godine u godinu i iz dr≈æave u dr≈æavu. Postoji li drugaƒçiji naƒçin za pronala≈æenje korelacije izmeƒëu ove dvije varijable?

## Dvostruki linijski grafovi

Isprobajte vi≈°elinijski graf superponiranjem dva linijska grafa jedan na drugi, koristeƒái Seabornov 'despine' za uklanjanje gornjih i desnih osi, te koristeƒái `ax.twinx` [preuzet iz Matplotliba](https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.twinx.html). Twinx omoguƒáuje dijagramu dijeljenje x osi i prikazivanje dvije y osi. Dakle, prika≈æite prinos po koloniji i broj kolonija, superponirano:

```python
fig, ax = plt.subplots(figsize=(12,6))
lineplot = sns.lineplot(x=honey['year'], y=honey['numcol'], data=honey, 
                        label = 'Number of bee colonies', legend=False)
sns.despine()
plt.ylabel('# colonies')
plt.title('Honey Production Year over Year');

ax2 = ax.twinx()
lineplot2 = sns.lineplot(x=honey['year'], y=honey['yieldpercol'], ax=ax2, color="r", 
                         label ='Yield per colony', legend=False) 
sns.despine(right=False)
plt.ylabel('colony yield')
ax.figure.legend();
```
![superimposed plots](../../../../3-Data-Visualization/12-visualization-relationships/images/dual-line.png)

Iako ni≈°ta posebno ne iskaƒçe oko 2003. godine, ovo nam omoguƒáuje da zavr≈°imo lekciju na malo sretnijoj noti: iako opƒáenito postoji pad broja kolonija, broj kolonija se stabilizira ƒçak i ako njihov prinos po koloniji opada.

Naprijed, pƒçele, naprijed!

üêù‚ù§Ô∏è
## üöÄ Izazov

U ovoj lekciji nauƒçili ste ne≈°to vi≈°e o drugim naƒçinima kori≈°tenja scatterplota i linijskih gridova, ukljuƒçujuƒái facet gridove. Izazovite se da napravite facet grid koristeƒái neki drugi skup podataka, mo≈æda onaj koji ste koristili prije ovih lekcija. Obratite pa≈ænju na to koliko dugo traje njihova izrada i koliko trebate biti pa≈æljivi s brojem gridova koje trebate nacrtati koristeƒái ove tehnike.

## [Kviz nakon predavanja](https://ff-quizzes.netlify.app/en/ds/)

## Pregled i samostalno uƒçenje

Linijski grafovi mogu biti jednostavni ili priliƒçno slo≈æeni. Proƒçitajte malo vi≈°e u [Seabornovoj dokumentaciji](https://seaborn.pydata.org/generated/seaborn.lineplot.html) o raznim naƒçinima na koje ih mo≈æete izraditi. Poku≈°ajte unaprijediti linijske grafove koje ste izradili u ovoj lekciji koristeƒái druge metode navedene u dokumentaciji.
## Zadatak

[Zaronite u ko≈°nicu](assignment.md)

---

**Odricanje od odgovornosti**:  
Ovaj dokument je preveden kori≈°tenjem AI usluge za prevoƒëenje [Co-op Translator](https://github.com/Azure/co-op-translator). Iako nastojimo osigurati toƒçnost, imajte na umu da automatski prijevodi mogu sadr≈æavati pogre≈°ke ili netoƒçnosti. Izvorni dokument na izvornom jeziku treba smatrati mjerodavnim izvorom. Za kljuƒçne informacije preporuƒçuje se profesionalni prijevod od strane struƒçnjaka. Ne preuzimamo odgovornost za bilo kakve nesporazume ili pogre≈°ne interpretacije proiza≈°le iz kori≈°tenja ovog prijevoda.